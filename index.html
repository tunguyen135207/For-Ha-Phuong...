<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>To My Special Someone</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-rose: #ffafbd;
            --secondary-rose: #ffc3a0;
            --luxury-gold: #d4af37;
            --deep-pink: #e91e63;
            --heart-red: #ff3838;
            --text-main: #4a4a4a;
            --petal-color: rgba(255, 182, 193, 0.7);
        }

        body, html {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; 
            font-family: 'Quicksand', sans-serif;
            background: radial-gradient(circle at center, #fff5f6 0%, #ffdee9 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1500px;
        }

        /* Falling Petals Background */
        .petals-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .petal {
            position: absolute;
            background-color: var(--petal-color);
            border-radius: 150% 0 150% 0;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }

        /* Heart Flow Container */
        #heart-flow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 6;
        }

        .floating-heart {
            position: absolute;
            bottom: -10%;
            fill: var(--heart-red);
            filter: drop-shadow(0 5px 15px rgba(233, 30, 99, 0.3));
            animation: float-up var(--duration) ease-out forwards;
            opacity: 0;
        }

        @keyframes float-up {
            0% { transform: translateY(0) scale(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; transform: translateY(-10vh) scale(1) rotate(15deg); }
            100% { transform: translateY(-125vh) scale(1.3) rotate(var(--rotation)); opacity: 0; }
        }

        /* Intro Screen */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 1s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        .heart-wrapper {
            position: relative;
            filter: drop-shadow(0 0 30px rgba(233, 30, 99, 0.4));
            animation: pulse-3d 1.5s infinite ease-in-out;
        }

        @keyframes pulse-3d {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .heart-svg {
            width: 180px;
            height: 180px;
        }

        .click-text {
            margin-top: 30px;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--deep-pink);
            letter-spacing: 1px;
            animation: fadeInOut 2s infinite ease-in-out;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }

        #intro-screen.fade-out {
            opacity: 0;
            transform: scale(2);
            visibility: hidden;
            pointer-events: none;
        }

        /* Letter Card */
        .card {
            background: rgba(255, 255, 255, 0.88);
            padding: 3.5rem;
            border-radius: 40px;
            box-shadow: 0 30px 80px rgba(233, 30, 99, 0.15);
            max-width: 850px;
            width: 90%;
            box-sizing: border-box;
            border: 1px solid rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            position: relative;
            z-index: 5;
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8) translateY(30px);
            transition: all 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            max-height: 85vh;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .card.reveal {
            opacity: 1;
            visibility: visible;
            transform: scale(1) translateY(0);
        }

        .inner-heart-box {
            text-align: center;
            margin-bottom: 20px;
            animation: pulse-slow 3s infinite ease-in-out;
        }

        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: var(--deep-pink);
            margin-bottom: 25px;
            text-align: center;
        }

        p {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.2rem; 
            line-height: 1.9; 
            text-align: justify;
            margin-bottom: 1.5rem;
            color: var(--text-main);
        }

        .footer-note {
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: var(--deep-pink);
            border-top: 1px dashed rgba(233, 30, 99, 0.2);
            padding-top: 25px;
            margin-top: 25px;
            line-height: 1.5;
        }

        .card::-webkit-scrollbar { width: 6px; }
        .card::-webkit-scrollbar-track { background: transparent; }
        .card::-webkit-scrollbar-thumb { 
            background: rgba(233, 30, 99, 0.2); 
            border-radius: 10px; 
        }

        @media (max-width: 600px) {
            .card { padding: 2rem 1.2rem; width: 95%; max-height: 80vh; }
            h1 { font-size: 2.2rem; }
            p { font-size: 1.05rem; }
            .heart-svg { width: 130px; height: 130px; }
            .inner-heart-box .heart-svg { width: 80px; height: 80px; }
            .click-text { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <svg style="width:0;height:0;position:absolute;">
        <defs>
            <linearGradient id="crystalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ff8a80" />
                <stop offset="50%" style="stop-color:#e91e63" />
                <stop offset="100%" style="stop-color:#880e4f" />
            </linearGradient>
            <filter id="innerGlow">
                <feGaussianBlur stdDeviation="1.5" result="blur" />
                <feComposite in="SourceGraphic" in2="blur" operator="out" />
            </filter>
            <symbol id="heart-shape-1" viewBox="0 0 32 32">
                <path d="M16 28.5L14.1 26.8C7.15 20.45 2.5 16.2 2.5 11C2.5 6.6 5.9 3.2 10.3 3.2C12.8 3.2 15.2 4.35 16.75 6.25C18.3 4.35 20.7 3.2 23.2 3.2C27.6 3.2 31 6.6 31 11C31 16.2 26.35 20.45 19.4 26.8L17.5 28.5H16Z" />
            </symbol>
            <symbol id="heart-shape-2" viewBox="0 0 32 32">
                <path d="M16 28.5c-0.3 0-0.6-0.1-0.8-0.3l-1.5-1.4C6.5 20.1 2.5 16.4 2.5 11.5c0-4 3.2-7.3 7.2-7.3 2.3 0 4.5 1.1 5.9 2.8 1.4-1.7 3.6-2.8 5.9-2.8 4 0 7.2 3.3 7.2 7.3 0 4.9-4 8.6-11.2 15.3l-1.5 1.4c-0.2 0.2-0.5 0.3-0.8 0.3z" />
            </symbol>
        </defs>
    </svg>

    <audio id="myAudio" loop>
        <source src="golden-hour.mp3" type="audio/mpeg">
    </audio>

    <div class="petals-container" id="petals"></div>
    <div id="heart-flow-container"></div>

    <div id="intro-screen" onclick="openLetter()">
        <div class="heart-wrapper">
            <svg class="heart-svg" viewBox="0 0 32 32">
                <use href="#heart-shape-1" fill="url(#crystalGrad)" />
                <path d="M11 6c-2 0-4 2-4 4 0 3 5 7 9 11 4-4 9-8 9-11 0-2-2-4-4-4-1.5 0-3 1-3.5 2.5L16 10l-1.5-1.5C14 7 12.5 6 11 6z" fill="white" opacity="0.2" filter="url(#innerGlow)"/>
            </svg>
        </div>
        <div class="click-text">Click the heart...</div>
    </div>

    <div class="card" id="letter-card">
        <div class="inner-heart-box">
            <svg class="heart-svg" style="width:100px; height:100px">
                <use href="#heart-shape-1" fill="url(#crystalGrad)" />
                <path d="M11 6c-2 0-4 2-4 4 0 3 5 7 9 11 4-4 9-8 9-11 0-2-2-4-4-4-1.5 0-3 1-3.5 2.5L16 10l-1.5-1.5C14 7 12.5 6 11 6z" fill="white" opacity="0.2" filter="url(#innerGlow)"/>
            </svg>
        </div>
        
        <h1>Hellooooo Ha Phuong!</h1>
        <p>Today is Saturday, February 14th, Valentine’s Day, and I built this little corner of the web just for you.</p> 
        <p>I’ll be honest,... from the moment we met, I was captivated by everything about you—your eyes, your smile, and that personality that keeps me on my toes. Especially when you were wearing that fox hat, it was soooooo cute. I still remember how delighted I was after that "werewolf night" when you messaged me first. Since then, our late-night talks have become my favorite place to be. You have a way of calming my mind while warming my heart at the same time.</p>
        <p>I’m so happy that I finally have the chance to talk to you, but lately, that happiness has been mixed with a bit of worry. We’re entering a three-week break, and honestly, I’m afraid that this distance might bring a sense of disconnection. It’s tough because we haven’t even had the chance for a proper date or hangout yet, and I hate that the timing of the holiday is keeping us apart just as we’ve started to find each other. I had already planned so many places to go and things to do with you, but for now, all I can do is this to bridge the gap.</p>
        <p>There are moments during our conversations when I completely lose track of time, and I realize how rare it is to find someone who makes "getting to know you" feel so effortless. You are so caring, and the way you appreciate me means more than I can put into words. I want you to know how much I value our connection, and that I’m here, wanting to be the person by your side through everything.</p>
        <p>I know we haven’t had much time in person yet, and I don’t want to rush anything. I just know that I’m already looking forward to our arrangement after Tet. I find myself wanting to discover every interesting thing that makes you who you are, and I can't wait to see you, hear your voice without a speaker in between us, and just enjoy being in the same room again.</p>
        <p>Today is Valentine’s Day, and although the distance makes it hard to celebrate properly, I didn't want the day to pass without showing you how much you're on my mind. I hope you enjoy this little secret... it’s a piece of my heart that I built just for you.</p>
        <div class="footer-note">
        "I’ll be counting down the days until we finally go out.<br>See you soon!!!"
        </div>
    </div>

    <script>
        // Cánh hoa rơi
        function createPetals() {
            const container = document.getElementById('petals');
            for (let i = 0; i < 35; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                const size = Math.random() * 18 + 10 + 'px';
                petal.style.width = size;
                petal.style.height = size;
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.animationDuration = Math.random() * 6 + 4 + 's';
                petal.style.animationDelay = Math.random() * 5 + 's';
                petal.style.opacity = Math.random() * 0.6 + 0.2;
                container.appendChild(petal);
            }
        }

        // Tạo tim bay
        function createSingleHeart() {
            const container = document.getElementById('heart-flow-container');
            const colors = ['#ff3838', '#e91e63', '#ff8a80', '#d63384', '#ffafbd'];

            const heart = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            const use = document.createElementNS("http://www.w3.org/2000/svg", "use");
            
            const shape = Math.random() > 0.5 ? '#heart-shape-1' : '#heart-shape-2';
            use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', shape);
            
            heart.setAttribute('class', 'floating-heart');
            heart.appendChild(use);
            
            const size = Math.random() * 25 + 15;
            const left = Math.random() * 100;
            const duration = Math.random() * 5 + 7; 
            const rotation = Math.random() * 480 - 240;
            const color = colors[Math.floor(Math.random() * colors.length)];

            heart.style.width = `${size}px`;
            heart.style.height = `${size}px`;
            heart.style.left = `${left}vw`;
            heart.style.fill = color;
            heart.style.setProperty('--duration', `${duration}s`);
            heart.style.setProperty('--rotation', `${rotation}deg`);
            
            container.appendChild(heart);
            setTimeout(() => heart.remove(), duration * 1000);
        }

        function startHeartFlow() {
            for(let i=0; i<20; i++) {
                setTimeout(createSingleHeart, i * 100);
            }
            setInterval(createSingleHeart, 400);
        }

        // Hàm mở thư và phát nhạc
        function openLetter() {
            const intro = document.getElementById('intro-screen');
            const card = document.getElementById('letter-card');
            const audio = document.getElementById("myAudio");

            // Phát nhạc & Loop
            if (audio) {
                audio.play().catch(e => console.log("Audio blocked by browser", e));
            }

            intro.classList.add('fade-out');
            startHeartFlow();
            setTimeout(() => {
                card.classList.add('reveal');
            }, 600);
        }

        window.onload = createPetals;
    </script>
</body>
</html>
